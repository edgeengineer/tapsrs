# Configuration for cbindgen to generate C headers

language = "C"
autogen_warning = "/* This file is automatically generated by cbindgen. Do not modify manually. */"
include_version = true
namespace = "transport_services"
sys_includes = ["stdint.h", "stdbool.h", "stdlib.h"]
    after_includes = """
// JNI type definitions for Android
#ifdef __ANDROID__
typedef struct _JNIEnv transport_services_JNIEnv;
typedef struct _jobject* transport_services_jobject;
#else
// Stub types for non-Android platforms
typedef void transport_services_JNIEnv;
typedef void* transport_services_jobject;
#endif
"""

[export]
include = ["TransportServicesHandle", "TransportServicesPreference", "TransportServicesEndpoint", 
           "TransportServicesProperties", "TransportServicesSecurityParams", 
           "TransportServicesMessage", "TransportServicesConnectionState", "TransportServicesError"]
prefix = "transport_services_"
item_types = ["enums", "structs", "unions", "typedefs", "opaque", "functions"]

[export.rename]
"TransportServicesHandle" = "handle_t"
"TransportServicesPreference" = "preference_t"
"TransportServicesEndpoint" = "endpoint_t"
"TransportServicesProperties" = "properties_t"
"TransportServicesSecurityParams" = "security_params_t"
"TransportServicesMessage" = "message_t"
"TransportServicesConnectionState" = "connection_state_t"
"TransportServicesError" = "error_t"

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true

[fn]
rename_args = "snake_case"

[struct]
rename_fields = "snake_case"

[macro_expansion]
bitflags = false

[parse]
parse_deps = true
include = ["transport_services"]

[defines]
"feature = ffi" = "FFI_FEATURE"