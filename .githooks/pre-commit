#!/bin/sh
# Pre-commit hook to run cargo fmt

echo "Running cargo fmt..."

# Check if cargo is available
if ! command -v cargo &> /dev/null; then
    echo "cargo could not be found. Please install Rust."
    exit 1
fi

# Run cargo fmt in check mode
if ! cargo fmt -- --check; then
    echo ""
    echo "Code formatting issues detected!"
    echo "Please run 'cargo fmt' to fix formatting before committing."
    echo ""
    exit 1
fi

echo "Formatting check passed!"
exit 0